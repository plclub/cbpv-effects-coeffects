# CBPV with Effects and Coeffects
This repository contains a mechanized semantic soundness proof of a CBPV system extended with effects and coeffects, as well as proofs of type-and-effect-and-coeffect preservation of translations from CBN and CBV.

## CBPV: Definitions and soundness
The CBPV folder contains definitions and soundness proofs for the full CBPV system.
[CBPV/syntax.sig](CBPV/syntax.sig) : CBPV syntax specification in the form of HOAS

[CBPV/syntax.v](CBPV/syntax.v) : Syntax file generated by Autosubst 2 from [CBPV/syntax.sig](CBPV/syntax.sig).
    Because Autosubst does not generate the imports for this file, the [Makefile](Makefile) adds these using
    [add_imports_to_syntax.pl](add_imports_to_syntax.pl).
    *Do not edit this file directly*

[CBPV/typing.v](CBPV/typing.v) : Syntactic typing rules

[CBPV/semantics.v](CBPV/semantics.v) : Instrumented big-step environment-based operational semantics

[CBPV/semtyping.v](CBPV/semtyping.v) : Semantic typing rules

[CBPV/soundness.v](CBPV/soundness.v) : Fundamental lemma of the logical relation and type-and-effect-and-coeffect soundness. The bulk of the proof can be found in [CBPV/semtyping.v](CBPV/semtyping.v)

[CBPV/junk.v](CBPV/junk.v) : Resource simulation proof demonstrating soundness of discarding values
    and unused computations

## Translations

[CBPV/renaming.v](CBPV/renaming.v) : Typing judgement can be renamed

### CBN
The CBN folder contains the effect-and-coeffect-aware CBN-to-CBPV translation.
[CBN/syntax.sig](CBN/syntax.sig) : CBN syntax specification in the form of HOAS

[CBN/syntax.v](CBN/syntax.v) : Syntax file generated by Autosubst 2 from [CBN/syntax.sig](CBN/syntax.sig).
    Because Autosubst does not generate the imports for this file, the [Makefile](Makefile) adds these using
    [add_imports_to_syntax.pl](add_imports_to_syntax.pl).
    *Do not edit this file directly*

[CBN/typing.v](CBN/typing.v) : Typing rules for the source CBN lambda calculus

[CBN/translation.v](CBN/translation.v) : Translation from CBN to CBPV

[CBN/proofs.v](CBN/proofs.v) : Correctness proof for translation from CBN to CBPV

### CBV
The CBV folder contains the effect-and-coeffect-aware CBV-to-CBPV translation.
[CBV/syntax.sig](CBV/syntax.sig) : CBV syntax specification in the form of HOAS

[CBV/syntax.v](CBV/syntax.v) : Syntax file generated by Autosubst 2 from [CBV/syntax.sig](CBV/syntax.sig).
    Because Autosubst does not generate the imports for this file, the [Makefile](Makefile) adds these using
    [add_imports_to_syntax.pl](add_imports_to_syntax.pl).
    *Do not edit this file directly*

[CBV/typing.v](CBV/typing.v) : Typing rules for the source CBV lambda calculus

[CBV/translation.v](CBV/translation.v) : Translation from CBV to CBPV

[CBV/proofs.v](CBV/proofs.v) : Correctness proof for translation from CBV to CBPV

